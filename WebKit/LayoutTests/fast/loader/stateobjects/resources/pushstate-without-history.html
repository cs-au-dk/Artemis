<html>
<head>
<script>

function runTest()
{
    history.pushState("New history Item", "1Ping!");
    history.pushState("New history Item", "2Ping!");
    history.pushState("New history Item", "3Ping!");
    window.opener.document.getElementById("result").innerText = "history.length is: " + history.length;
    if (window.opener.layoutTestController)
        window.opener.layoutTestController.notifyDone();
    window.close()
}

</script>
<body onload="runTest();" >
</body>
</html>
