<html>
<head>
<script>

if (window.layoutTestController) {
    layoutTestController.setCanOpenWindows();
    layoutTestController.clearBackForwardList();
    layoutTestController.dumpAsText();
    layoutTestController.waitUntilDone();
}
</script>
<body onload="window.open('resources/pushstate-without-history.html');" >
<pre>This test checks if history.length is correct after a few history.pushState calls.</pre>
<br>
<pre id="result">Test failed</pre>
</body>
</html>
